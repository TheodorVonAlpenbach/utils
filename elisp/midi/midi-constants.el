(defun mce-type-id (type)
  (tmap-1-0 type midi-channel-events))
;;(mce-type-id 'note-off) ==> 8

(defun mce-type (type-id)
  (tmap-0-1 type-id midi-channel-events))
;;(mce-type 8) ==> note-off

(defun midi-controller-type-id (type)
  (tmap-1-0 type controller-types))
;;(controller-type-id 'pan) ==> 10

(defun midi-controller-type (type-id)
  (tmap-0-1 type-id controller-types))
;;(controller-type 10) ==> pan

(defun mme-type-id (type)
  (tmap-1-0 type midi-meta-events))
;;(mme-type-id 'cue-point) ==> 7

(defun mme-type (type-id)
  (tmap-0-1 type-id midi-meta-events))
;;(mme-type 9) ==> cue-point

(defun midi-instrument-id (instrument-name)
  (tmap-1-0 instrument-name midi-instruments))
;;(midi-instrument-id 'gunshot) ==> 128

(defun midi-instrument-name (instrument-id)
  (tmap-0-1 instrument-id midi-instruments))
;;(midi-instrument-name 128) ==> gunshot

(defun midi-chrome-id (chrome)
  (position chrome midi-chromees))
;;()

(defconst midi-chromees '("C" "C#" "D" "D#" "E" "F" "F#" "G" "G#" "A" "A#" "B"))
(defconst midi-key-chromees '((major ("Cb" "Gb" "Db" "Ab" "Eb" "Bb" "F" "C" "G" "D" "A" "E" "B" "F#" "C#"))
				   (minor ("Ab" "Eb" "Bb" "F" "C" "G" "D" "A" "E" "B" "F#" "C#" "G#" "D#" "#A"))))

(defconst midi-channel-events
  '((#x8 note-off)
    (#x9 note-on)
    (#xa note-aftertouch)
    (#xb controller)
    (#xc program-change)
    (#xd channel-aftertouch)
    (#xe pitch-bend))
  "(Format: list of elements on form (channel-event-ID CHANNEL-EVENT-NAME)")

(defconst midi-meta-events
  '((#x0	sequence-number		2)
    (#x1	text-event		'string-length)	
    (#x2	copyright-notice	'string-length)
    (#x3	sequence-or-track-name	'string-length)
    (#x4	instrument-name		'string-length)
    (#x5	lyrics			'string-length)
    (#x6	midi-marker		'string-length)
    (#x7	cue-point		'string-length)
    (#x9	other-text-event        'string-length)
    (#x20	midi-channel-prefix	1)
    (#x2f	end-of-track		0)
    (#x51	set-tempo		3)
    (#x54	smpte-offset		5)
    (#x58	midi-time-signature	4)
    (#x59	key-signature		2)
    (#x7f	sequencer-specific	'blob-length)))

(defconst controller-types
  '((0		bank-select				0-127	MSB)
    (1		modulation-wheel			0-127	MSB)
    (2		breath-control				0-127	MSB)
    (3		undefined				0-127	MSB)
    (4		foot-controller				0-127	MSB)
    (5		portamento-time				0-127	MSB)
    (6		data-entry				0-127	MSB)
    (7		channel-volume				0-127	MSB)
    (8		balance					0-127	MSB)
    (9		undefined				0-127	MSB)
    (10		pan					0-127	MSB)
    (11		expression-controller			0-127	MSB)
    (12		effect-control-1			0-127	MSB)
    (13		effect-control-2			0-127	MSB)
    (14		undefined				0-127	MSB)
    (15		undefined				0-127	MSB)
    (16		general-purpose-controller-1		0-127	MSB)
    (17		general-purpose-controller-2		0-127	MSB)
    (18		general-purpose-controller-3		0-127	MSB)
    (19		general-purpose-controller-4		0-127	MSB)
    (20		undefined				0-127	MSB)
    (21		undefined				0-127	MSB)
    (22		undefined				0-127	MSB)
    (23		undefined				0-127	MSB)
    (24		undefined				0-127	MSB)
    (25		undefined				0-127	MSB)
    (26		undefined				0-127	MSB)
    (27		undefined				0-127	MSB)
    (28		undefined				0-127	MSB)
    (29		undefined				0-127	MSB)
    (30		undefined				0-127	MSB)
    (31		undefined				0-127	MSB)
    (32		bank-select				0-127	LSB)
    (33		modulation-wheel			0-127	LSB)
    (34		breath-control				0-127	LSB)
    (35		undefined				0-127	LSB)
    (36		foot-controller				0-127	LSB)
    (37		portamento-time				0-127	LSB)
    (38		data-entry				0-127	LSB)
    (39		channel-volume				0-127	LSB)
    (40		balance					0-127	LSB)
    (41		undefined				0-127	LSB)
    (42		pan					0-127	LSB)
    (43		expression-controller			0-127	LSB)
    (44		effect-control-1			0-127	LSB)
    (45		effect-control-2			0-127	LSB)
    (46		undefined				0-127	LSB)
    (47		undefined				0-127	LSB)
    (48		general-purpose-controller-1		0-127	LSB)
    (49		general-purpose-controller-2		0-127	LSB)
    (50		general-purpose-controller-3		0-127	LSB)
    (51		general-purpose-controller-4		0-127	LSB)
    (52		undefined				0-127	LSB)
    (53		undefined				0-127	LSB)
    (54		undefined				0-127	LSB)
    (55		undefined				0-127	LSB)
    (56		undefined				0-127	LSB)
    (57		undefined				0-127	LSB)
    (58		undefined				0-127	LSB)
    (59		undefined				0-127	LSB)
    (60		undefined				0-127	LSB)
    (61		undefined				0-127	LSB)
    (62		undefined				0-127	LSB)
    (63		undefined				0-127	LSB)
    (64		damper-pedal-on/off-sustain		0-127   LSB) ;(< 63) = off, (> 64) = on
    (65		portamento-on/off			0-127   LSB) ;(< 63) = off, (> 64) = on
    (66		sustenuto-on/off			0-127   LSB) ;(< 63) = off, (> 64) = on
    (67		soft-pedal-on/off			0-127   LSB) ;(< 63) = off, (> 64) = on
    (68		legato-footswitch			0-127   LSB) ;(< 63) = off, (> 64) = on
    (69		hold-2					0-127   LSB) ;(< 63) = off, (> 64) = on
    (70		sound-controller-1-sound-variation	0-127	LSB)
    (71		sound-controller-2-timbre		0-127	LSB)
    (72		sound-controller-3-release-time		0-127	LSB)
    (73		sound-controller-4-attack-time		0-127	LSB)
    (74		sound-controller-5-brightness		0-127	LSB)
    (75		sound-controller-6			0-127	LSB)
    (76		sound-controller-7			0-127	LSB)
    (77		sound-controller-8			0-127	LSB)
    (78		sound-controller-9			0-127	LSB)
    (79		sound-controller-10			0-127	LSB)
    (80		general-purpose-controller-5		0-127	LSB)
    (81		general-purpose-controller-6		0-127	LSB)
    (82		general-purpose-controller-7		0-127	LSB)
    (83		general-purpose-controller-8		0-127	LSB)
    (84		portamento-control			0-127	Source-Note)
    (85		undefined				0-127	LSB)
    (86		undefined				0-127	LSB)
    (87		undefined				0-127	LSB)
    (88		undefined				0-127	LSB)
    (89		undefined				0-127	LSB)
    (90		undefined				0-127	LSB)
    (91		effects-1-reverb-depth			0-127	LSB)
    (92		effects-2-tremolo-depth			0-127	LSB)
    (93		effects-3-chorus-depth			0-127	LSB)
    (94		effects-4-detune-depth			0-127	LSB)
    (95		effects-5-phaser-depth			0-127	LSB)
    (96		data-entry-+1				N/A	N/A)
    (97		data-entry--1				N/A	N/A)
    (98		non-registered-parameter-number-lsb	0-127	LSB)
    (99		non-registered-parameter-number-msb	0-127	MSB)
    (100	registered-parameter-number-lsb		0-127	LSB)
    (101	registered-parameter-number-msb		0-127	MSB)
    (102	undefined					)
    (103	undefined					)
    (104	undefined					)
    (105	undefined					)
    (106	undefined					)
    (107	undefined					)
    (108	undefined					)
    (109	undefined					)
    (110	undefined					)
    (111	undefined					)
    (112	undefined					)
    (113	undefined					)
    (114	undefined					)
    (115	undefined					)
    (116	undefined					)
    (117	undefined					)
    (118	undefined					)
    (119	undefined					)
    (120	all-sound-off				0	)
    (121	reset-all-controllers			0	)
    (122	local-control-on/off			0       -1) ;off, on respectively
    (123	all-notes-off				0	)
    (124	omni-mode-off				0	)
    (125	omni-mode-on				0	)
    (126	poly-mode-on/off			*	)
    (127	poly-mode-on				0	))  
  "(Format: list of elements on form (CONTROLLER-ID CONTROLLER-NAME CONTROLLER-VALUE-RANGE)")


(defconst midi-instruments
'((1	acoustic-grand-piano		"")
(2	bright-acoustic-piano		"")
(3	electric-grand-piano		"")
(4	honky-tonk-piano		"")
(5	electric-piano-1		"")
(6	electric-piano-2		"")
(7	harpsichord			"")
(8	clavi				"")
(9	celesta				"")
(10	glockenspiel			"")
(11	music-box			"")
(12	vibraphone			"")
(13	marimba				"")
(14	xylophone			"")
(15	tubular-bells			"")
(16	dulcimer			"")
(17	drawbar-organ			"")
(18	percussive-organ		"")
(19	rock-organ			"")
(20	church-organ			"")
(21	reed-organ			"")
(22	accordion			"")
(23	harmonica			"")
(24	tango-accordion			"")
(25	acoustic-guitar-nylon		"nylon")
(26	acoustic-guitar-steel		"steel")
(27	electric-guitar-jazz		"jazz")
(28	electric-guitar-clean		"clean")
(29	electric-guitar-muted		"muted")	
(30	overdriven-guitar		"")
(31	distortion-guitar		"")
(32	guitar-harmonics		"")
(33	acoustic-bass			"")
(34	electric-bass-finger		"finger")
(35	electric-bass-pick		"pick")
(a36	fretless-bass			"")
(37	slap-bass-1			"")
(38	slap-bass-2			"")
(39	synth-bass-1			"")
(40	synth-bass-2			"")
(41	violin				"")
(42	viola				"")
(43	cello				"")
(44	contrabass			"")
(45	tremolo-strings			"")
(46	pizzicato-strings		"")
(47	orchestral-harp			"")
(48	timpani				"")
(49	string-ensemble-1		"")
(50	string-ensemble-2		"")
(51	synthstrings-1			"")
(52	synthstrings-2			"")
(53	choir-aahs			"")
(54	voice-oohs			"")
(55	synth-voice			"")
(56	orchestra-hit			"")
(57	trumpet				"")
(58	trombone			"")
(59	tuba				"")
(60	muted-trumpet			"")
(61	french-horn			"")
(62	brass-section			"")
(63	synthbrass-1			"")
(64	synthbrass-2			"")
(65	soprano-sax			"")
(66	alto-sax			"")
(67	tenor-sax			"")
(68	baritone-sax			"")
(69	oboe				"")
(70	english-horn			"")
(71	bassoon				"")
(72	clarinet			"")
(73	piccolo				"")
(74	flute				"")
(75	recorder			"")
(76	pan-flute			"")
(77	blown-bottle			"")
(78	shakuhachi			"")
(79	whistle				"")
(80	ocarina				"")
(81	lead-1				"square")
(82	lead-2				"sawtooth")
(83	lead-3				"calliope")
(84	lead-4				"chiff")
(85	lead-5				"charang")
(86	lead-6				"voice")
(87	lead-7				"fifths")
(88	lead-8				"bass-+-lead")
(89	pad-1				"new-age")
(90	pad-2				"warm")
(91	pad-3				"polysynth")
(92	pad-4				"choir")
(93	pad-5				"bowed")
(94	pad-6				"metallic")
(95	pad-7				"halo")
(96	pad-8				"sweep")
(97	fx-1				"rain")
(98	fx-2				"soundtrack")
(99	fx-3				"crystal")
(100	fx-4				"atmosphere")
(101	fx-5				"brightness")
(102	fx-6				"goblins")
(103	fx-7				"echoes")
(104	fx-8				"sci-fi")
(105	sitar				"")
(106	banjo				"")
(107	shamisen			"")
(108	koto				"")
(109	kalimba				"")
(110	bag-pipe			"")
(111	fiddle				"")
(112	shanai				"")
(113	tinkle-bell			"")
(114	agogo				"")
(115	steel-drums			"")
(116	woodblock			"")
(117	taiko-drum			"")
(118	melodic-tom			"")
(119	synth-drum			"")
(120	reverse-cymbal			"")
(121	guitar-fret-noise		"")
(122	breath-noise			"")
(123	seashore			"")
(124	bird-tweet			"")
(125	telephone-ring			"")
(126	helicopter			"")
(127	applause			"")
(128	gunshot				"")
)
  "(Format: list of elements on form (PROGRAM-ID INSTRUMENT-NAME COMMENT)")

(provide 'midi-constants)